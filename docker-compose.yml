services:
  inbox-app:
    build: .
    container_name: unified-inbox
    restart: unless-stopped
    ports:
      - "${APP_PORT:-5000}:5000"
    environment:
      NODE_ENV: production
      DATABASE_URL: ${DATABASE_URL}
      SESSION_SECRET: ${SESSION_SECRET:-omnidesk_session_secret_2024}
      OPENAI_API_KEY: ${OPENAI_API_KEY:-}
      ADMIN_USERNAME: adhielesmana
      ADMIN_PASSWORD: admin123
      TZ: ${TZ:-Asia/Jakarta}
    volumes:
      - ./whatsapp_auth:/app/whatsapp_auth
      - /etc/localtime:/etc/localtime:ro
      - /etc/timezone:/etc/timezone:ro
    networks:
      - inbox-network

networks:
  inbox-network:
    driver: bridge
